{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "properties": {
    "name": {
      "type": "string",
      "description": "Nom du modèle principal (par exemple : 'Article')"
    },
    "attributes": {
      "type": "array",
      "description": "Liste des attributs du modèle",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Nom de l'attribut"
          },
          "type": {
            "type": "string",
            "enum": ["Integer", "String", "Date"],
            "description": "Type de l'attribut (par exemple : 'Integer', 'String', 'Date')"
          },
          "metaAttributes": {
            "type": "array",
            "description": "Liste des métadonnées associées à l'attribut",
            "items": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "description": "Nom de la méta-attribut (par exemple : 'db_nullable', 'toString')"
                },
                "value": {
                  "type": ["boolean", "integer", "string"],
                  "description": "Valeur associée au méta-attribut"
                }
              },
              "required": ["name", "value"]
            }
          }
        },
        "required": ["name", "type"]
      }
    },
    "oneToOneRelations": {
      "type": "array",
      "description": "Liste des relations One-to-One",
      "items": {
        "type": "object",
        "properties": {
          "column": { "type": "string" },
          "referencedTable": { "type": "string" },
          "referencedColumn": { "type": "string" }
        },
        "required": ["column", "referencedTable", "referencedColumn"]
      }
    },
    "manyToOneRelations": {
      "type": "array",
      "description": "Liste des relations Many-to-One",
      "items": {
        "type": "object",
        "properties": {
          "column": { "type": "string" },
          "referencedTable": { "type": "string" },
          "referencedColumn": { "type": "string" }
        },
        "required": ["column", "referencedTable", "referencedColumn"]
      }
    },
    "manyToManyRelations": {
      "type": "array",
      "description": "Liste des relations Many-to-Many",
      "items": {
        "type": "object",
        "properties": {
          "through": { "type": "string" },
          "with": { "type": "string" }
        },
        "required": ["through", "with"]
      }
    },
    "metaModels": {
      "type": "array",
      "description": "Liste des métadonnées globales associées au modèle",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Nom de la méta-donnée"
          },
          "value": {
            "type": ["boolean", "integer", "string"],
            "description": "Valeur associée à la méta-donnée"
          }
        },
        "required": ["name", "value"]
      }
    }
  },
  "required": ["name", "attributes"]
}
