---
chapitre: true
package: pkg_global
order: 1001
---


##  Utiliser `import` dans un site web statique


### **Introduction**

Les modules JavaScript (introduits avec ES6) permettent de structurer votre code en plusieurs fichiers r√©utilisables et ind√©pendants. Cela rend vos applications plus maintenables, lisibles et organis√©es. Dans ce tutoriel, nous allons apprendre √† cr√©er un site web statique en utilisant des modules JavaScript.

Nous allons impl√©menter une application simple qui permet d'effectuer des recherches simul√©es avec :
- Un indicateur de chargement.
- Une liste de r√©sultats affich√©e dynamiquement.
- Une structure modulaire avec quatre fichiers JavaScript : `app.js`, `app.loading.js`, `app.recherche.js`, et `app.eventHandler.js`.



### **Explication th√©orique : Concepts des modules JavaScript**

1. **D√©finition :**
   - Les modules JavaScript sont des fichiers contenant du code r√©utilisable. Chaque module peut exporter des fonctionnalit√©s (fonctions, variables, classes) et les rendre disponibles pour d'autres modules.

2. **Mots-cl√©s principaux :**
   - `export` : utilis√© pour exporter des fonctionnalit√©s d'un fichier.
   - `import` : utilis√© pour importer ces fonctionnalit√©s dans un autre fichier.

   Exemple :
   ```javascript
   // module.js
   export function greet(name) {
       return `Bonjour, ${name}!`;
   }

   // main.js
   import { greet } from './module.js';
   console.log(greet('Alice')); // Bonjour, Alice!
   ```

3. **Chargement des modules :**
   - Dans HTML, utilisez l'attribut `type="module"` pour indiquer que le fichier JavaScript contient des modules.
   - Exemple :
     ```html
     <script type="module" src="main.js"></script>
     ```

4. **Avantages des modules :**
   - **Isolation** : Chaque module a son propre espace de noms.
   - **R√©utilisation** : Partagez facilement du code entre diff√©rents fichiers.
   - **Maintenance** : Travaillez sur des parties sp√©cifiques sans affecter le reste.



### **√âtape 1 : Structure du projet**

Cr√©ez une structure de projet organis√©e :

```
project/
‚îÇ
‚îú‚îÄ‚îÄ index.html
‚îú‚îÄ‚îÄ js/
‚îÇ   ‚îú‚îÄ‚îÄ app.js
‚îÇ   ‚îú‚îÄ‚îÄ app.loading.js
‚îÇ   ‚îú‚îÄ‚îÄ app.recherche.js
‚îÇ   ‚îî‚îÄ‚îÄ app.eventHandler.js
```



### **√âtape 2 : Cr√©ation des fichiers JavaScript**

#### 1. **`app.loading.js` : Gestion du message de chargement**

Ce fichier contient des fonctions pour afficher ou masquer un indicateur de chargement.

**Code :**
```javascript
// js/app.loading.js
export function showLoading() {
    const loader = document.getElementById('loading-message');
    if (loader) {
        loader.style.display = 'block';
    }
}

export function hideLoading() {
    const loader = document.getElementById('loading-message');
    if (loader) {
        loader.style.display = 'none';
    }
}
```



#### 2. **`app.recherche.js` : Recherche simul√©e**

Ce fichier exporte une fonction pour simuler une recherche avec un d√©lai.

**Code :**
```javascript
// js/app.recherche.js
export function performSearch(query) {
    return new Promise((resolve) => {
        setTimeout(() => {
            const results = [
                `R√©sultat 1 pour "${query}"`,
                `R√©sultat 2 pour "${query}"`,
                `R√©sultat 3 pour "${query}"`
            ];
            resolve(results);
        }, 2000); // Simule un d√©lai de 2 secondes
    });
}
```



#### 3. **`app.eventHandler.js` : Gestion des √©v√©nements**

Ce fichier contient la logique de gestion des √©v√©nements pour le bouton de recherche.

**Code :**
```javascript
// js/app.eventHandler.js
import { showLoading, hideLoading } from './app.loading.js';
import { performSearch } from './app.recherche.js';

export function setupSearchHandler() {
    document.getElementById('search-button').addEventListener('click', async () => {
        const query = document.getElementById('search-input').value;
        showLoading();
        try {
            const results = await performSearch(query);
            const resultsContainer = document.getElementById('results');
            resultsContainer.innerHTML = results.map(result => `<li>${result}</li>`).join('');
        } catch (error) {
            console.error('Erreur lors de la recherche:', error);
        } finally {
            hideLoading();
        }
    });
}
```



#### 4. **`app.js` : Fichier principal**

Ce fichier importe les modules n√©cessaires et initialise le gestionnaire d'√©v√©nements.

**Code :**
```javascript
// js/app.js
import { setupSearchHandler } from './app.eventHandler.js';

// Initialise le gestionnaire d'√©v√©nements
setupSearchHandler();
```



### **√âtape 3 : Fichier HTML**

Voici le fichier HTML qui charge `app.js` en tant que module et inclut les √©l√©ments n√©cessaires.

**Code :**
```html
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exemple de modules JavaScript</title>
    <style>
        #loading-message {
            display: none;
            color: red;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>Recherche avec Modules JavaScript</h1>
    <div>
        <input type="text" id="search-input" placeholder="Entrez une recherche..." />
        <button id="search-button">Rechercher</button>
    </div>
    <div id="loading-message">Chargement...</div>
    <ul id="results"></ul>
    <script type="module" src="./js/app.js"></script>
</body>
</html>
```



### **√âtape 4 : Compatibilit√© des navigateurs**

1. **Navigateurs modernes :**
   - Les modules JavaScript sont pris en charge par Chrome, Firefox, Edge et Safari.

2. **Navigateurs anciens :**
   - Si vous devez prendre en charge des navigateurs comme Internet Explorer, utilisez un transpileur comme **Babel**.
   - Configuration de Babel :
     - Installez Babel : 
       ```bash
       npm install --save-dev @babel/core @babel/cli @babel/preset-env
       ```
     - Cr√©ez un fichier `.babelrc` :
       ```json
       {
           "presets": ["@babel/preset-env"]
       }
       ```
     - Transpilez le code avec :
       ```bash
       npx babel js --out-dir dist
       ```



### **R√©sum√© des concepts abord√©s**

1. **`type="module"` :**
   - Permet de charger des fichiers JavaScript en tant que modules.

2. **`export` et `import` :**
   - Exportation et importation des fonctionnalit√©s entre les fichiers.

3. **Organisation modulaire :**
   - Une s√©paration claire des responsabilit√©s rend le code plus maintenable.

4. **Compatibilit√© :**
   - Utilisez Babel si vous ciblez des navigateurs anciens.

Avec ce tutoriel, vous avez une base solide pour cr√©er des applications web statiques modulaires et modernes. üéâ


### **Prompt :**

"Cr√©er un site web statique en utilisant des modules JavaScript. Inclure un fichier `index.html` et quatre fichiers JS (`app.js`, `app.loading.js`, `app.recherche.js`, `app.eventHandler.js`). `app.js` importe et initialise. `app.loading.js` g√®re l'affichage d'un indicateur de chargement. `app.recherche.js` simule une recherche avec un d√©lai. `app.eventHandler.js` configure l'√©v√©nement de clic pour effectuer une recherche. Fournir un exemple de code pour chaque fichier, une structure de projet, et expliquer l'utilisation de `type="module"`, les chemins relatifs et la compatibilit√© des navigateurs."
